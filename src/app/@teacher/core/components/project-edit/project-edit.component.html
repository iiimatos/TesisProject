<div class="alert alert-dark capsule" role="alert">
  <h2 class="display-4 title">Editar Proyectos</h2>
</div>

<form class="mt-3 col-md-10 offset-md-1 p-3 bg-white shadow-sm rounded" [formGroup]="form" (ngSubmit)="edit($event)">
  <div class="mb-3 row">
    <div class="col-10">
    </div>
    <div class="col-2">
      <button type="button" class="btn btn-danger mt-2" (click)="goToBackList();">Ir a la lista</button>
    </div>
  </div>
  <div class="row">
    <div class="form-group col-md-4">
      <select class="form-select" formControlName="tema_id">
        <option selected disabled>Seleccione un tema</option>
        <option *ngFor="let item of temas" value="{{item.id}}">{{item.tema}}</option>
      </select>

    </div>
    <div class="form-group col-md-4 offset-md-4">
      <select class="form-select" formControlName="asesor_id">
        <option selected disabled>Seleccione un asesor</option>
        <option *ngFor="let item of asesor" value="{{item.id}}">{{item.nombre}}</option>
      </select>
    </div>

  </div>
  <div class="row">
    <div class="col-md-10 border border-light">
      <table class="table table-bordered">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Nombre</th>
            <th scope="col">Matricula</th>
            <th scope="col">Correo institucional</th>
            <!-- <th scope="col">Carrera</th> -->
          </tr>
        </thead>
        <tbody *ngIf="users.length == 0">
          <td colspan="8" class="text-center">No hay registros...</td>
        </tbody>
        <tbody>
          <tr *ngFor="let item of users; index as i">
            <th scope="row">{{i+1}}</th>
            <td>{{item.nombre}} {{item.apellido}}</td>
            <td>{{item.username}}</td>
            <td>{{item.email}}</td>
            <!-- <td>{{item.carrera_id}}</td> -->
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-md-2">
      <button (click)="editUserModal($event)" class="btn btn-dark">
        <i class="fas fa-plus"></i>
      </button>
    </div>

  </div>
  <div class="row">
    <div class="col-md-10 border border-light">
      <table class="table table-bordered">
        <thead>
          <tr>
            <th scope="col">Fecha</th>
            <th scope="col">Observacion</th>
            <th scope="col">Estado</th>
          </tr>
        </thead>
        <tbody *ngIf="historial.length == 0">
          <td colspan="2" class="text-center">No hay registros...</td>
        </tbody>
        <tbody>
          <tr *ngFor="let item of historial; index as i">
            <th scope="row">{{item.published_at | date:'dd/MM/yyyy'}}</th>
            <td>{{item.observacion}}</td>
            <td>{{item.estatus.nombre}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-md-2">
      <button (click)="editObsModal($event)" class="btn btn-dark">
        <i class="fas fa-plus"></i>
      </button>
    </div>
  </div>


  <div class="row">
    <div class="form-group col-md-4">
      <select class="form-select" formControlName="linea_investigacion">
        <option selected disabled>Seleccione una linea de invetigaci√≥n</option>
        <option *ngFor="let item of linea" value="{{item.id}}">{{item.linea}}</option>
      </select>
    </div>
  </div>

  <button type="submit" class="btn btn-primary btn-block text-light">Guardar cambios</button>
</form>