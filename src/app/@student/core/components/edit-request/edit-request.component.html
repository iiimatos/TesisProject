<div class="modal-header">
  <h4>Editar Tema - {{solicitudes?.tema_id?.tema}}</h4>
  <button class="btn btn-danger" aria-label="close" type="button" (click)="modal.dismiss()"><i
      class="fas fa-times"></i></button>
</div>
<div class="modal-body">
  <form [formGroup]="form" (ngSubmit)="edit($event)">
    <h6 class="lead">Datos Sobre el/los Estudiantes</h6>
    <hr />
    <div class="mb-1">
      <label for="estudiante" class="form-label">Estudiantes </label>
      <ng-select formControlName="usuario_id" bindLabel="name" placeholder="Selecciona los estudiantes"
        [multiple]="true" [maxSelectedItems]="3">
        <ng-option *ngFor="let student of listStudents" [value]="student.id">{{student.nombre}} {{student.apellido}} -
          {{student.username}}
        </ng-option>
      </ng-select>
      <div class="form-text mt-1 text-right">(Max 3)</div>
    </div>
    <h6 class="lead mt-4">Datos Sobre el asesor</h6>
    <hr />
    <div class="row mb-2">
      <div class="col-6">
        <label for="asesor" class="form-label">Asesor</label>
        <input type="text" class="form-control" formControlName="nombre" name="asesor" id="asesor"
          placeholder="Nombre completo" />
        <div class="mt-2" *ngIf="form.get('nombre').errors && form.get('nombre').touched">
          <p class="alert alert-danger" role="alert" *ngIf="form.get('nombre').hasError('required')">
            Este campo es requerido
          </p>
        </div>
      </div>
      <div class="col-6">
        <label for="telefono" class="form-label">Telefono</label>
        <input type="text" class="form-control" formControlName="telefono" name="telefono" id="telefono"
          placeholder="Telefono" />
        <div class="mt-2" *ngIf="form.get('telefono').errors && form.get('telefono').touched">
          <p class="alert alert-danger" role="alert" *ngIf="form.get('telefono').hasError('required')">
            Este campo es requerido
          </p>
        </div>
      </div>
    </div>
    <div class="row mb-2">
      <div class="col-6">
        <label for="nivelAcademico" class="form-label">Nivel academico</label>
        <input type="text" class="form-control" formControlName="nivelAcademico" name="nivelAcademico"
          id="nivelAcademico" placeholder="Nivel academico" />
        <div class="mt-2" *ngIf="form.get('nivelAcademico').errors && form.get('nivelAcademico').touched">
          <p class="alert alert-danger" role="alert" *ngIf="form.get('nivelAcademico').hasError('required')">
            Este campo es requerido
          </p>
        </div>
      </div>
      <div class="col-6">
        <label for="correo" class="form-label">Correo Electronico</label>
        <input type="email" formControlName="correo" class="form-control" name="correo" id="correo"
          placeholder="Correo electronico" />
        <div class="mt-2" *ngIf="form.get('correo').errors && form.get('correo').touched">
          <p class="alert alert-danger" role="alert" *ngIf="form.get('correo').hasError('required')">
            Este campo es requerido
          </p>
          <p class="alert alert-danger" role="alert" *ngIf="form.get('correo').hasError('email')">
            No es un email valido, user@user.com
          </p>
        </div>
      </div>
    </div>
    <div class="mb-1">
      <div>
        <label for="institucionLabora" class="form-label">Institucion donde labora</label>
        <input type="text" class="form-control" formControlName="institucionLabora" name="institucionLabora"
          id="institucionLabora" placeholder="Institucion" />
        <div class="mt-2" *ngIf="form.get('institucionLabora').errors && form.get('institucionLabora').touched">
          <p class="alert alert-danger" role="alert" *ngIf="form.get('institucionLabora').hasError('required')">
            Este campo es requerido
          </p>
        </div>
      </div>
    </div>
    <h6 class="lead mt-4">Datos del proyecto</h6>
    <hr />
    <div class="mb-1">
      <label for="datosProyecto" class="form-label">Escriba sobre el proyecto</label>
      <textarea class="form-control"
        placeholder="Explique brevemente el problema que serÃ¡ tratado y el alcance o justificacion del proyecto"
        formControlName="datosProyecto" name="datosProyecto" id="datosProyecto" rows="3"></textarea>
      <div class="mt-2" *ngIf="form.get('datosProyecto').errors && form.get('datosProyecto').touched">
        <p class="alert alert-danger" role="alert" *ngIf="form.get('datosProyecto').hasError('required')">
          Este campo es requerido
        </p>
      </div>
    </div>
    <div class="mb-3">
      <label for="linea_investigacion" class="form-label">Linea de Investigacion</label>
      <select class="form-select" formControlName="linea_investigacion" id="linea_investigacion"
        name="linea_investigacion">
        <option value="" selected disabled hidden>Elige una linea de investigacion</option>
        <option *ngFor="let linea of lineas" value="{{linea.id}}">{{linea.linea}}</option>
      </select>
      <div class="mt-2" *ngIf="form.get('linea_investigacion').errors && form.get('linea_investigacion').touched">
        <p class="alert alert-danger" role="alert" *ngIf="form.get('linea_investigacion').hasError('required')">
          Este campo es requerido
        </p>
      </div>
    </div>
    <div class="d-grid gap-2 col-6 mx-auto">
      <!-- [disabled]="form.invalid" -->
      <button class="btn btn-success" type="submit">Actualizar <i class="fas fa-pen"></i></button>
      <button class="btn btn-danger" aria-label="close" type="button" (click)="modal.dismiss()">Cancelar <i
          class="fas fa-times"></i></button>
    </div>
  </form>
</div>